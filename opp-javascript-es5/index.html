<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
    </head>
    <body>
        <p>OOP ES5 Javascript</p>
        <script>
            function Person(_name, _age, _height) {
                var name = _name;
                var age = _age;
                var height = _height;
                
                function privateFunc() {
                    console.log('private func');
                }

                this.initialize = function() {
                    console.log('init function');
                };

                this.sayHello = function(name) {
                    console.log('Hello ' + name);
                };

                this.hello = function hello(name) {
                    console.log('Hello ' + name);
                };

                this.getName = function getName() {
                    return name;
                };

                this.setName = function setName(_name) {
                    name = _name;
                };

                this.getAge = function getAge() {
                    return age;
                };

                this.setAge = function setAge(_age) {
                    age = _age;
                };

                this.getHeight = function getHeight() {
                    return height;
                };

                this.setHeight = function setHeight(_height) {
                    height = _height;
                };
            };

            Person.myStaticFunc = function() {
                console.log('static method');
            }

            Person.static_attr = 'static attr';

            Person.prototype.myProtoFunc = function() {
                console.log('prototype function');
            }

            Person.prototype.happyBirthday = function() {
                return this.setAge(this.getAge() + 1);
            }

            function Employee(_name, _age, _height) {
                var salary;
                
                Person.call(this, _name, _age, _height);

                this.getSalary = function getSalary() {
                    return salary;
                };

                this.setSalary = function setSalary(_salary) {
                    salary = _salary;
                };
            }

            Employee.prototype = Object.create(Person.prototype);

            var victor = new Person('Victor', 22, 1.70);
            console.log(victor.getName(), victor.getAge());
            victor.happyBirthday();
            console.log(victor.getName(), victor.getAge());

            // var leonan = new Person('Leonan', 23, 1.76);
            var leonan = new Employee('Leonan', 23, 1.76);
            console.log(leonan.getName(), leonan.getAge());
            leonan.happyBirthday = function happyBirthday() {
                return this.setAge(this.getAge() + 2);
            }
            leonan.happyBirthday();
            console.log(leonan.getName(), leonan.getAge());

            // Person.myStaticFunc();

            // console.log(Person.static_attr);

            // console.log(new Person());
            // console.log(leonan);
            // console.log(leonan.__proto__);
            // console.log(Person.prototype);
            // leonan.myProtoFunc();
            // leonan.initialize();
            // leonan.sayHello(leonan.getName());
            // leonan.sayHello(leonan.privateFunc());
            // leonan.setName('Leonan');
            // leonan.setAge(23);
            // leonan.setHeight(1.76);
            // leonan.hello(leonan.getName());
            // console.log(leonan);

            // var victor = new Person();
            // victor.name = 'Victor';
            // victor.age = 23;
            // victor.height = 1.76;
            // victor.sayHello();
            // console.log(victor);

        </script>
    </body>
</html>